<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="style.css">
<script src="../index.js" type="text/javascript"></script>
<title>Thorlabs Toolkit Feedback Form</title>
</head>

<body>
<div class="feedbackForm"> 
  <!-- FORM START -->
  <form class="form" name="feedback-form" action="/thank-you.html" method="post" data-netlify="true" data-netlify-honeypot="bot-field" netlify>
    <input type="hidden" name="bot-field" />
    <!-- STAR RATING -->
    <div class="rate" id="rating">
      <input type="radio" id="star5" name="rate" value="5/5" />
      <label for="star5" title="text">Rating</label>
      <input type="radio" id="star4" name="rate" value="4/5" />
      <label for="star4" title="text">4 stars</label>
      <input type="radio" id="star3" name="rate" value="3/5" />
      <label for="star3" title="text">3 stars</label>
      <input type="radio" id="star2" name="rate" value="2/5" />
      <label for="star2" title="text">2 stars</label>
      <input type="radio" id="star1" name="rate" value="1/5" />
      <label for="star1" title="text">1 star</label>
    </div>
    
    <!-- CONTACT INFO -->
    <div class="contact-info">
      <label for="name" class="nameLabel" aria-label="Name">Name</label>
      <input type="text" id="name" name="name">
      <label for="email" class="emailLabel" aria-label="Email Address">Email Address</label>
      <input type="email" id="email" name="email">
    </div>
    
    <!-- ACCORDION GROUP -->
    <div class="accordionGrp"> 
      <!-- GENERAL -->
      <button type="button" class="accordion">General</button>
      <div class="panel">
        <div class="radioGrp">
          <textarea class="feedback" name="General_Feedback" placeholder="Describe bugs, suggestions, or feedback here"></textarea>
          <label for="general_attachment" aria-label="General Feedback - Attach a reference document, screenshot, or image">Attach a reference document, screenshot, or image (PDF, DOC, JPG, PNG, HEIC only)</label>
          <input type="file" class="attachment" name="general_attachment" accept=".pdf, .doc, .jpg, .png, .heic" multiple>
        </div>
        <!--        <div class="radioGrpSpacer"></div>--> 
      </div>
      
      <!-- NEW CALCULATOR REQUEST -->
      <button type="button" class="accordion">Calculator/Feature Request</button>
      <div class="panel">
        <div class="radioGrp">
          <textarea class="feedback" name="Request_Feedback" placeholder="Describe calculator or features requests here"></textarea>
          <label for="feedback_attachment" aria-label="General Feedback - Attach a reference document, screenshot, or image">Attach a reference screenshot, or image (PDF, DOC, JPG, PNG, or HEIC only)</label>
          <input type="file" class="attachment" name="feedback_attachment" accept=".pdf, .doc, .jpg, .png, .heic" multiple>
        </div>
      </div>
      
      <!-- CONTACT TECH SUPPORT -->
      <button type="button" class="accordion">Contact Tech Support</button>
      <div class="panel">
        <div class="radioGrp">
          <p>Phone: <a href="tel:+9733003000">973-300-3000</a></p>
          <p>Email: <a href="mailto:techsupport@thorlabs.com">techsupport@thorlabs.com</a></p>
          <p>&nbsp;</p>
        </div>
      </div>
    </div>
    
    <!-- ADDITIONAL FEEDBACK -->
    <label for="Additional_Feedback" class="addlFeedbackLabel" aria-label="Name">Additional Feedback</label>
    <textarea id="feedback1" name="Additional_Feedback" placeholder="Enter additional feedback here"></textarea>
    <div class="emailDiv">If you have more feedback to share, please contact <a href="mailto:app-dev@thorlabs.com">app-dev@thorlabs.com</a>.</div>
    <button type="submit">Submit Feedback</button>
    <div id="feedback-message"></div>
  </form>
</div>

<!-- SCRIPTS --> 
<script>
// Accordion function 
var acc = document.getElementsByClassName("accordion");
var i;

for (i = 0; i < acc.length; i++) {
  acc[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var panel = this.nextElementSibling;
    if (panel.style.maxHeight) {
      panel.style.maxHeight = null;
    } else {
      panel.style.maxHeight = panel.scrollHeight + "px";
    }
  });
}
</script> 

<script>
// Handle subcheckbox display upon click
document.addEventListener('DOMContentLoaded', function() {
    // First block of code
    var errorOption1 = document.getElementById('genErrorCb');
    var errorSelection1 = document.getElementById('errorSelection');

    // Function to handle checkbox change for the first block
    function handleCheckboxChange1() {
        // Show or hide the errorSelection div based on the state of the checkbox
        errorSelection1.style.display = errorOption1.checked ? 'block' : 'none';
    }

    // Add event listener for checkbox change for the first block
    errorOption1.addEventListener('change', handleCheckboxChange1);

    // Initial execution to handle initial state for the first block
    handleCheckboxChange1();

    // Second block of code
    var errorOption2 = document.getElementById('genInACalcCb');
    var errorSelection2 = document.getElementById('subErrorSelection');

    // Function to handle checkbox change for the second block
    function handleCheckboxChange2() {
        // Show or hide the errorSelection div based on the state of the checkbox
        errorSelection2.style.display = errorOption2.checked ? 'block' : 'none';
    }

    // Add event listener for checkbox change for the second block
    errorOption2.addEventListener('change', handleCheckboxChange2);

    // Initial execution to handle initial state for the second block
    handleCheckboxChange2();
});
		</script>
</body>
</html>